<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Manage</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600">
    <link rel="stylesheet" href="../css/fontawesome.min.css">
    <link rel="stylesheet" href="../css/fullcalendar.min.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/manage.css">
    <link rel="stylesheet" href="../css/basics.css"/>

    <script src="https://www.gstatic.com/firebasejs/6.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.6.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.6.1/firebase-firestore.js"></script>


    <script src="../js/auth.js"></script>
    <script src="../js/manage.js"></script>

</head>

<body id="reportsPage">
<div class="navBar">
        <span class="navSpanLogo">
            <img src="../img/AllInsureDarkTheme.png" alt="logoAllInsure" class="Logo"/>
            <li class="navLi"><a href="index.html" class="navHREF"><button class="navButton">Home</button></a></li>
            <li class="navLi"><a href="about.html" class="navHREF"><button class="navButton" href="">About Us</button></a></li>

            <li class="navLi">
                <select class="navButton">
                    <option class="navButton" onclick="window.location.replace('lodge.html')"><button class="navButton">Lodge</button></option>
                    <option class="navButton" onclick="window.location.replace('manage.html')"><button class="navButton">Manage</button></option>
                </select>
            </li>
            <li class="navLi"><a class="navHREF"><button class="navButton" onclick="logout()">Logout</button></a></li>

        </span>
</div>
<br/>
<br/>
    <div class="" id="home">
        <div class="container">

            <!-- row -->
            <div class="row tm-content-row tm-mt-big">
                <div class="tm-col tm-col-big">
                    <div class="bg-white tm-block h-100">
                        <h2 class="tm-block-title">Heat Map For Claims Over Week</h2>
                        <canvas id="lineChart"></canvas>
                    </div>
                </div>
                <div class="tm-col tm-col-big">
                    <div class="bg-white tm-block h-100">
                        <h2 class="tm-block-title"></h2>
                        <canvas id="barChart"></canvas>
                    </div>
                </div>
                <div class="tm-col tm-col-big">
                    <div class="bg-white tm-block h-100">
                        <h2 class="tm-block-title"></h2>
                        <canvas id="barChart"></canvas>
                    </div>
                </div>
                <div class="tm-col tm-col-span">
                    <div class="bg-white tm-block h-100">
                        <table id="searchBox">
                            <tr>
                                <th> Search Criteria<br/><br/></th>
                            </tr>
                            <tr>
                                <td class="selectSearch">
                                    <input type="text" class="textSearch">
                                        <select class="selectOptions">
                                            <option>ID</option>
                                            <option>E-mail</option>
                                            <option>Full Name</option>
                                            <option>Type</option>
                                            <option>Date</option>
                                        </select>
                                    </input>
                                </td>
                            </tr>
                            <tr class="searchSubmitLine">
                                <td><br/><button onclick="fetchClaimsStaff()" class="submitButton">Search</button></td>
                            </tr>
                        </table>

                    </div>
                </div>
                <div id="claimsInjectPoint"></div>
                <!-- MODAL FOR INSPECT -->
                <div id="inspectModal" class="modal">

                    <!-- Modal content -> JULIAN DO THINGS HERE -->
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <p>Help</p>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <script src="js/jquery-3.3.1.min.js"></script>
    <!-- https://jquery.com/download/ -->
    <script src="js/moment.min.js"></script>
    <!-- https://momentjs.com/ -->
    <script src="js/utils.js"></script>
    <script src="js/Chart.min.js"></script>
    <!-- http://www.chartjs.org/docs/latest/ -->
    <script src="js/fullcalendar.min.js"></script>
    <!-- https://fullcalendar.io/ -->
    <script src="js/bootstrap.min.js"></script>
    <!-- https://getbootstrap.com/ -->
    <script src="js/tooplate-scripts.js"></script>
    <script>

        checkAuthState('yes');

        if (checkIsStaff()){
            fetchClaimsStaff(); //TODO call from load animation
        } else {
            fetchClaimsUser(); //TODO call from load animation
        }

        let ctxLine,
            ctxBar,
            ctxPie,
            optionsLine,
            optionsBar,
            optionsPie,
            configLine,
            configBar,
            configPie,
            lineChart,
            barChart,
            pieChart;
        // DOM is ready
        $(function () {
            updateChartOptions();
            drawLineChart(); // Line Chart
            drawBarChart(); // Bar Chart
            drawPieChart(); // Pie Chart
            drawCalendar(); // Calendar

            $(window).resize(function () {
                updateChartOptions();
                updateLineChart();
                updateBarChart();
                reloadPage();
            });
        })
    </script>
</body>
</html>